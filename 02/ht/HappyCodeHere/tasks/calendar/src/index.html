<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Calendar</title>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="css/main.css">
  <link rel="shortcut icon" href="https://upload.wikimedia.org/wikipedia/en/8/8d/Calendar_Icon.png">
</head>
<body>
  <script src="js/main.js"></script>
  <script>
    var urlParams;
    (window.onpopstate = function () {
      var match,
          pl     = /\+/g,  // Regex for replacing addition symbol with a space
          search = /([^&=]+)=?([^&]*)/g,
          decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
          query  = window.location.search.substring(1);

      urlParams = {};
      while (match = search.exec(query))
         urlParams[decode(match[1])] = decode(match[2]);
    })();

    let { id, showControls, allowAddEvents, allowRemoveEvents, className, title } = urlParams;

    div = document.createElement('div');
    div.id = id;
    document.body.prepend(div);

    showControls = (showControls == 'true');
    allowAddEvents = (allowAddEvents == 'true');
    allowRemoveEvents = (allowRemoveEvents == 'true');
    title = title || 'Your cool calendar';

    new Calendar({
      el: '#' + id,
      showControls: showControls,
      allowAddEvents: allowAddEvents,
      allowRemoveEvents: allowRemoveEvents,
      className: className,
      title: title
    }).run();
  </script>
</body>
</html>
