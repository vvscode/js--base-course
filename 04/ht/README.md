# Реализовать EventBus c сигнатурой
```
on(eventName, handler)
off(eventName, handler)
trigger(eventName[,data1 [,data2 [,data3...]]])
once(eventName, handler
```

# Реализовать роутер с поддержкой описания роутов сигнатурой
```
Route: {
   name /* string */,
   match /* string|RegExp|function */
   onBeforeEnter /* function, может возвращать promise, если так - onEnter срабатывает только по его резолву */
   onEnter
   onLeave /* может возвращать promise, если так - onBeforeEnter срабатывает только по его резолву */
}
```
Причем все хуки-функции опциональны (не являются обязательными)

# Задача для сайта с прогнозом погоды - дополнения. 

## Функционал

В шапку страницы добавить меню с двумя пунктами
- Главная
- О сайте
Каждый пункт меню должен открывать соответствующую страницу.
"O сайте" - Отображает статическую информацию - ваше имя, фото, ссылки на соцсети и свободный текст
"Главная" - при входе на страницу сайт определяет местоположение пользователя ( запросом на `https://api.userinfo.io/userinfos` ) и перенаправляет на страницу с соответсвующими координатами

При поиске из формы в шапке - пользователь сначала перенаправляется на страницу города, а после получения координат города (использовать api google ) - на страницу соответствующих координат. Города добавляются в историю, только если координаты были найдены.

Страница координат состоит из 3х частей 
- Информация о текущих координатах 
---- долгота/ширина/населенный пункт(как-можно подробнее)
---- прогноз погоды для текущих координат (использовать api.darksky)
- Карта, отображающая текущие координаты (использовать Яндекс карту). Карта позволяет с помощью мыши менять текущие координаты (днд + зум), что отображается на адресе страницы
- контрол "Избранное"  - позволяющий добавить/удалить точку из списка "Избранное" и отображающий наличие текущей точки в этом списке

В подвале ( для всех страниц ) теперь отображаются ( если в них есть информация ) два блока - "История" (история поиска городов, не больше 5) и "Избранное" (список отмеченых локаций/координат с названием насленных пунктов, сами координаты показывать не нужно). Пункты в обоих списках кликабельны и ведут на соответствующие страницы с прогнозом.

Механизм запросов по-прежнему переключаются (XHR/fetch).

Задачу реализовать на базе EventBus (см п1) и Router (см п2). Сборка проекта должна быть настроена при помощи `gulp`. Структура проекта должна отображаться на файловую систему следующим образом ( примерно ):
```
- js
- - app.js
- - router.js
- - routes
- - - - index.js
- - - - city.js
- - - - coordinates.js
- - - - about.js
- - utils
- - - - eventBus.js
- - - - router.js
- - components
- - - - history.js
- - - - favorites.js
- css
```

# Теория

Прочитать книгу ["Паттерны для масштабируемых JavaScript-приложений" Автор: Эдди Османи.](http://largescalejs.ru/)